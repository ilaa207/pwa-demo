{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport router from '../routers';\nexport default {\n  name: 'Header',\n  methods: {\n    async logout() {\n      try {\n        let token = localStorage.getItem('token');\n        console.log(token);\n        let response = await axios.get(`https://phplaravel-729699-3062059.cloudwaysapps.com/api/v1/logout`, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-type\": `application/json`\n          }\n        });\n        console.log(response);\n        if (response.status == 200) {\n          localStorage.clear();\n          this.$router.push({\n            name: 'Login'\n          });\n        } else {\n          console.warn(\"Logout non riuscito.\");\n        }\n      } catch (error) {\n        console.error(\"Errore durante il logout:\", error);\n        if (error.response) {\n          // La richiesta è stata fatta e il server ha risposto con un codice di stato\n          console.error(\"Errore durante il logout:\", error.response.data);\n          console.error(\"Codice di stato:\", error.response.status);\n        } else if (error.request) {\n          // La richiesta è stata fatta ma non c'è stata risposta\n          console.error(\"Nessuna risposta ricevuta:\", error.request);\n        } else {\n          // Qualcosa è andato storto nel configurare la richiesta\n          console.error(\"Errore:\", error.message);\n        }\n      }\n      /*localStorage.clear();\n      this.$router.push({ name: 'Login' })*/\n    }\n  }\n};","map":{"version":3,"names":["axios","router","name","methods","logout","token","localStorage","getItem","console","log","response","get","headers","Authorization","status","clear","$router","push","warn","error","data","request","message"],"sources":["/home/ilaria/progettino/src/components/Header.vue"],"sourcesContent":["<template>\n    <div class=\"nav\">\n        <a href=\"/\">Home</a>\n        <a v-on:click=\"logout\" href=\"#\">Logout</a>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport router from '../routers';\nexport default {\n    name: 'Header',\n    methods: {\n\n        async logout() {\n\n            try {\n                let token = localStorage.getItem('token');\n                console.log(token)\n                let response = await axios.get(`https://phplaravel-729699-3062059.cloudwaysapps.com/api/v1/logout`, {\n                    headers: {\n                        Authorization: `Bearer ${token}`,\n                        \"Content-type\": `application/json`\n                    }\n                });\n                console.log(response);\n\n                if (response.status == 200) {\n                    localStorage.clear();\n                    this.$router.push({ name: 'Login' });\n                } else {\n                    console.warn(\"Logout non riuscito.\");\n                }\n            } catch (error) {\n                console.error(\"Errore durante il logout:\", error);\n\n    if (error.response) {\n        // La richiesta è stata fatta e il server ha risposto con un codice di stato\n        console.error(\"Errore durante il logout:\", error.response.data);\n        console.error(\"Codice di stato:\", error.response.status);\n    } else if (error.request) {\n        // La richiesta è stata fatta ma non c'è stata risposta\n        console.error(\"Nessuna risposta ricevuta:\", error.request);\n    } else {\n        // Qualcosa è andato storto nel configurare la richiesta\n        console.error(\"Errore:\", error.message);\n    }\n}\n                /*localStorage.clear();\n               this.$router.push({ name: 'Login' })*/\n        }\n    }\n}\n</script>\n\n<style>\n.nav {\n    background-color: #fff;\n    overflow: hidden;\n}\n\n.nav a {\n    float: left;\n    color: #002364;\n    padding: 14px 16px;\n    text-align: center;\n    font-size: 17px;\n    text-decoration: none;\n    margin-right: 5px;\n}\n\n.nav a:hover {\n    background-color: #f1f1f1;\n}\n</style>"],"mappings":";AAQA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,YAAY;AAC/B,eAAe;EACXC,IAAI,EAAE,QAAQ;EACdC,OAAO,EAAE;IAEL,MAAMC,MAAMA,CAAA,EAAG;MAEX,IAAI;QACA,IAAIC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QACzCC,OAAO,CAACC,GAAG,CAACJ,KAAK;QACjB,IAAIK,QAAO,GAAI,MAAMV,KAAK,CAACW,GAAG,CAAC,mEAAmE,EAAE;UAChGC,OAAO,EAAE;YACLC,aAAa,EAAE,UAAUR,KAAK,EAAE;YAChC,cAAc,EAAE;UACpB;QACJ,CAAC,CAAC;QACFG,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;QAErB,IAAIA,QAAQ,CAACI,MAAK,IAAK,GAAG,EAAE;UACxBR,YAAY,CAACS,KAAK,CAAC,CAAC;UACpB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;YAAEf,IAAI,EAAE;UAAQ,CAAC,CAAC;QACxC,OAAO;UACHM,OAAO,CAACU,IAAI,CAAC,sBAAsB,CAAC;QACxC;MACJ,EAAE,OAAOC,KAAK,EAAE;QACZX,OAAO,CAACW,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QAE7D,IAAIA,KAAK,CAACT,QAAQ,EAAE;UAChB;UACAF,OAAO,CAACW,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAACT,QAAQ,CAACU,IAAI,CAAC;UAC/DZ,OAAO,CAACW,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAACT,QAAQ,CAACI,MAAM,CAAC;QAC5D,OAAO,IAAIK,KAAK,CAACE,OAAO,EAAE;UACtB;UACAb,OAAO,CAACW,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAACE,OAAO,CAAC;QAC9D,OAAO;UACH;UACAb,OAAO,CAACW,KAAK,CAAC,SAAS,EAAEA,KAAK,CAACG,OAAO,CAAC;QAC3C;MACJ;MACgB;;IAER;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}