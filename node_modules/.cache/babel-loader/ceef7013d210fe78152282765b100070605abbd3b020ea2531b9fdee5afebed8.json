{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand-lg navbar-light\",\n  style: {\n    \"background-color\": \"#022970\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_3 = [\"aria-expanded\"];\nconst _hoisted_4 = {\n  class: \"navbar-nav me-auto mb-2 mb-lg-0 mt-3\",\n  style: {\n    \"width\": \"90%\"\n  }\n};\nconst _hoisted_5 = {\n  class: \"nav-item\"\n};\nconst _hoisted_6 = {\n  class: \"nav-item\"\n};\nconst _hoisted_7 = {\n  class: \"card profile-card\"\n};\nconst _hoisted_8 = {\n  class: \"profile-body\"\n};\nconst _hoisted_9 = {\n  class: \"image-area\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"content-area\"\n};\nconst _hoisted_12 = {\n  class: \"my-2\"\n};\nconst _hoisted_13 = {\n  class: \"my-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Toggler per dispositivi mobili \"), _createElementVNode(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleNavbar && $options.toggleNavbar(...args)),\n    \"aria-controls\": \"navbarTogglerDemo03\",\n    \"aria-expanded\": $data.isNavbarOpen ? 'true' : 'false',\n    \"aria-label\": \"Toggle navigation\",\n    style: {\n      \"color\": \"#ffffff\",\n      \"background-color\": \"#022970\",\n      \"border-color\": \"#ffffff\",\n      \"filter\": \"opacity(50%)\"\n    }\n  }, [_createCommentVNode(\"Ho dovuto gestire la chiusura con isNavbarOpen perchè bootstrap entrava in conflitto con vuejs e il menù una volta aperto non si chiudeva\"), _cache[3] || (_cache[3] = _createElementVNode(\"span\", {\n    class: \"navbar-toggler-icon\",\n    style: {\n      \"filter\": \"invert(100%)\"\n    }\n  }, null, -1 /* HOISTED */))], 8 /* PROPS */, _hoisted_3), _createCommentVNode(\" Navbar Menu \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"navbar-collapse\", {\n      'collapse': !$data.isNavbarOpen,\n      'show': $data.isNavbarOpen\n    }]),\n    id: \"navbarTogglerDemo03\"\n  }, [_createElementVNode(\"ul\", _hoisted_4, [_createElementVNode(\"li\", _hoisted_5, [_createElementVNode(\"a\", {\n    id: \"client\",\n    class: \"nav-link active bi bi-person rounded-1 mb-2\",\n    \"aria-current\": \"page\",\n    onClick: _cache[1] || (_cache[1] = $event => {\n      this.$router.push({\n        name: 'Client'\n      });\n    }),\n    style: {\n      \"color\": \"#ffffff\"\n    }\n  }, \" Clients\")]), _cache[4] || (_cache[4] = _createElementVNode(\"li\", {\n    class: \"nav-item\"\n  }, [_createElementVNode(\"a\", {\n    id: \"openOrders\",\n    class: \"nav-link active bi bi-box-seam rounded-1 mb-2\",\n    \"aria-current\": \"page\",\n    href: \"/home#ordini-aperti\",\n    style: {\n      \"color\": \"#ffffff\"\n    }\n  }, \" Open orders\")], -1 /* HOISTED */)), _createCommentVNode(\"<li class=\\\"nav-item\\\">\\n                        <a id=\\\"facilities\\\" class=\\\"nav-link active bi bi-kanban rounded-1 mb-2\\\" aria-current=\\\"page\\\"\\n                            @click=\\\"this.$router.push({ name: 'Facilities' });\\\" style=\\\"color: #ffffff;\\\">&nbsp;Stato\\n                            impianti</a>\\n                    </li>\"), _createElementVNode(\"li\", _hoisted_6, [_createElementVNode(\"a\", {\n    id: \"logout\",\n    class: \"nav-link bi bi-box-arrow-right rounded-1 mb-2\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args)),\n    style: {\n      \"color\": \"#ffffff\"\n    }\n  }, \" Logout\")])])], 2 /* CLASS */)])]), _createElementVNode(\"div\", _hoisted_7, [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"profile-header\"\n  }, \" \", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"img\", {\n    src: $data.logo,\n    alt: \"Logo\",\n    height: \"100\",\n    width: \"100\"\n  }, null, 8 /* PROPS */, _hoisted_10)]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h3\", _hoisted_12, _toDisplayString(_ctx.nome_referente), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_13, _toDisplayString(_ctx.nome_azienda), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($data.email), 1 /* TEXT */)])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","_createCommentVNode","type","onClick","_cache","args","$options","toggleNavbar","$data","isNavbarOpen","_hoisted_3","_normalizeClass","id","_hoisted_4","_hoisted_5","$event","$router","push","name","href","_hoisted_6","logout","_hoisted_7","_hoisted_8","_hoisted_9","src","logo","alt","height","width","_hoisted_10","_hoisted_11","_hoisted_12","_toDisplayString","_ctx","nome_referente","_hoisted_13","nome_azienda","email"],"sources":["/home/ilaria/pwa-demo/src/components/Header.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg navbar-light\" style=\"background-color: #022970;\">\n        <div class=\"container-fluid\">\n            <!-- Toggler per dispositivi mobili -->\n            <button class=\"navbar-toggler\" type=\"button\" @click=\"toggleNavbar\" aria-controls=\"navbarTogglerDemo03\"\n                :aria-expanded=\"isNavbarOpen ? 'true' : 'false'\" aria-label=\"Toggle navigation\"\n                style=\"color: #ffffff; background-color: #022970; border-color: #ffffff; filter: opacity(50%);\">\n                <!--Ho dovuto gestire la chiusura con isNavbarOpen perchè bootstrap entrava in conflitto con vuejs e il menù una volta aperto non si chiudeva-->\n                <span class=\"navbar-toggler-icon\" style=\"filter: invert(100%);\"></span>\n            </button>\n            <!-- Navbar Menu -->\n            <div class=\"navbar-collapse\" :class=\"{ 'collapse': !isNavbarOpen, 'show': isNavbarOpen }\"\n                id=\"navbarTogglerDemo03\">\n                <ul class=\"navbar-nav me-auto mb-2 mb-lg-0 mt-3\" style=\"width: 90%\">\n                    <li class=\"nav-item\">\n                        <a id=\"client\" class=\"nav-link active bi bi-person rounded-1 mb-2\" aria-current=\"page\"\n                            @click=\"this.$router.push({ name: 'Client' });\" style=\"color: #ffffff;\">&nbsp;Clients</a>\n                    </li>\n                    <li class=\"nav-item\">\n                        <a id=\"openOrders\" class=\"nav-link active bi bi-box-seam rounded-1 mb-2\" aria-current=\"page\"\n                            href=\"/home#ordini-aperti\" style=\"color: #ffffff;\">&nbsp;Open orders</a>\n                    </li>\n                    <!--<li class=\"nav-item\">\n                        <a id=\"facilities\" class=\"nav-link active bi bi-kanban rounded-1 mb-2\" aria-current=\"page\"\n                            @click=\"this.$router.push({ name: 'Facilities' });\" style=\"color: #ffffff;\">&nbsp;Stato\n                            impianti</a>\n                    </li>-->\n                    <li class=\"nav-item\">\n                        <a id=\"logout\" class=\"nav-link bi bi-box-arrow-right rounded-1 mb-2\" @click=\"logout\"\n                            style=\"color: #ffffff;\">&nbsp;Logout</a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </nav>\n\n    <div class=\"card profile-card\">\n        <div class=\"profile-header\">&nbsp;</div>\n        <div class=\"profile-body\">\n            <div class=\"image-area\">\n                <img :src=\"logo\" alt=\"Logo\" height=\"100\" width=\"100\" />\n            </div>\n            <div class=\"content-area\">\n                <h3 class=\"my-2\">{{ nome_referente }}</h3>\n                <p class=\"my-1\">{{ nome_azienda }}</p>\n                <p>{{ email }}</p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport imageCompression from 'browser-image-compression';\nexport default {\n    name: 'Header',\n    data() {\n        return {\n            // Flag per determinare se la navbar è aperta o chiusa\n            isNavbarOpen: false,\n            email: '',\n            company_name: '',\n            contact_name: '',\n            logo: \"\"\n        };\n    },\n    methods: {\n        toggleNavbar() {\n            this.isNavbarOpen = !this.isNavbarOpen;\n        },\n        goHome() {\n            this.$router.push('/');\n        },\n        async logout() {\n            try {\n\n                let token = localStorage.getItem('token').replace(/\"/g, ''); // Rimuovo le virgolette, /g fa la ricerca su tutta la stringa\n                console.log(token)\n                const response = await axios.get('http://localhost:3000/logout', {\n                    headers: {\n                        'Authorization': `Bearer ${token}`\n                    }\n                });\n                console.log(response);\n\n                if (response.status == 200) {\n                    localStorage.clear();\n                    this.$router.push({ name: 'Login' });\n                } else {\n                    console.warn(\"Logout non riuscito.\");\n                }\n            } catch (error) {\n                console.error(\"Errore durante il logout:\", error);\n            }\n        }\n    },\n\n    mounted() {\n        this.email = localStorage.getItem('email').replace(/\"/g, '');\n        this.company_name = localStorage.getItem('company_name').replace(/\"/g, '');\n        this.contact_name = localStorage.getItem('contact_name').replace(/\"/g, '');\n        this.logo = 'data:image/png;base64,' + localStorage.getItem('logo').replace(/\"/g, '') || \"\";\n    }\n}\n</script>\n<style>\n.card {\n    background: #fff;\n    min-height: 50px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n    position: relative;\n    margin-bottom: 20px;\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    -ms-border-radius: 2px;\n    border: none !important;\n}\n\n.profile-card .profile-header {\n    background-color: #022970;\n    padding: 42px 0;\n}\n\n.profile-card .profile-body .image-area {\n    text-align: center;\n    margin-top: -64px;\n}\n\n.profile-card .profile-body .image-area img {\n    border: 2px solid #022970;\n    padding: 2px;\n    margin: 2px;\n    -webkit-border-radius: 50%;\n    -moz-border-radius: 50%;\n    -ms-border-radius: 50%;\n    border-radius: 50%;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}