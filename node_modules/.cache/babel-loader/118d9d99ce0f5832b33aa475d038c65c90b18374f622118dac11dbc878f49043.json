{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      email: '',\n      password: ''\n    };\n  },\n  methods: {\n    async login() {\n      let result = await axios.get(`http://localhost:3000/users?email=${this.email}&password=${this.password}`);\n      if (result.status == 200 && result.data.length > 0) {\n        localStorage.setItem(\"user-info\", JSON.stringify(result.data[0]));\n        this.$router.push({\n          name: 'Home'\n        });\n      }\n      console.warn(result);\n    }\n  },\n  mounted() {\n    let user = localStorage.getItem('user-info');\n    if (user) {\n      this.$router.push({\n        name: 'Home'\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","email","password","methods","login","result","get","status","length","localStorage","setItem","JSON","stringify","$router","push","console","warn","mounted","user","getItem"],"sources":["/home/ilaria/progettino/src/components/Login.vue"],"sourcesContent":["<template>\n    <div class=\"full\">\n        <h1>Login</h1>\n        <div class=\"login\">\n            <div class=\"input\">\n                <input type=\"text\" v-model=\"email\" placeholder=\"Email\" />\n                <input type=\"password\" v-model=\"password\" placeholder=\"Password\" />\n                <button v-on:click=\"login\">Login</button>\n                <p>\n                    <router-link to=\"/\">Home</router-link>\n                </p>\n                <p class=\"dimenticato\">\n                    <br>\n                    <a href=\"\">Hai dimenticato le credenziali?</a>\n                </p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    name:'Login',\n\n    data() {\n        return {\n            email: '',\n            password: ''\n        }\n    },\n\n    methods: {\n        async login() {\n            let result = await axios.get(\n                `http://localhost:3000/users?email=${this.email}&password=${this.password}`\n            )\n            if (result.status == 200 && result.data.length > 0) {\n                localStorage.setItem(\"user-info\", JSON.stringify(result.data[0]))\n                this.$router.push({ name: 'Home' })\n            }\n            console.warn(result)\n\n        }\n    },\n\n    mounted() {\n        let user = localStorage.getItem('user-info')\n        if (user) {\n            this.$router.push({ name: 'Home' })\n        }\n    }\n}\n</script>\n"],"mappings":";AAqBA,OAAOA,KAAI,MAAO,OAAM;AACxB,eAAe;EACXC,IAAI,EAAC,OAAO;EAEZC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACd;EACJ,CAAC;EAEDC,OAAO,EAAE;IACL,MAAMC,KAAKA,CAAA,EAAG;MACV,IAAIC,MAAK,GAAI,MAAMP,KAAK,CAACQ,GAAG,CACxB,qCAAqC,IAAI,CAACL,KAAK,aAAa,IAAI,CAACC,QAAQ,EAC7E;MACA,IAAIG,MAAM,CAACE,MAAK,IAAK,GAAE,IAAKF,MAAM,CAACL,IAAI,CAACQ,MAAK,GAAI,CAAC,EAAE;QAChDC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACP,MAAM,CAACL,IAAI,CAAC,CAAC,CAAC,CAAC;QAChE,IAAI,CAACa,OAAO,CAACC,IAAI,CAAC;UAAEf,IAAI,EAAE;QAAO,CAAC;MACtC;MACAgB,OAAO,CAACC,IAAI,CAACX,MAAM;IAEvB;EACJ,CAAC;EAEDY,OAAOA,CAAA,EAAG;IACN,IAAIC,IAAG,GAAIT,YAAY,CAACU,OAAO,CAAC,WAAW;IAC3C,IAAID,IAAI,EAAE;MACN,IAAI,CAACL,OAAO,CAACC,IAAI,CAAC;QAAEf,IAAI,EAAE;MAAO,CAAC;IACtC;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}