{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container my-3\"\n};\nconst _hoisted_2 = {\n  class: \"text-center mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"mt-3 mb-0\"\n};\nconst _hoisted_4 = {\n  class: \"d-flex justify-content-center gap-3\",\n  style: {\n    \"height\": \"10%\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  const _component_Modal = _resolveComponent(\"Modal\");\n  const _component_b_form_textarea = _resolveComponent(\"b-form-textarea\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Header), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_Modal, {\n    ref: \"orderModal\",\n    modalId: \"orderModal\",\n    title: $data.modalTitle\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\"DOM elements marked with the built-in ref attribute are stored in the $refs object. Elements inside the $refs object can be reached with the this keyword. The $refs object is used to reach DOM elements to read or manipulate them in a similar way as querySelector() and getElementById() are used in plain JavaScript.\"), _createElementVNode(\"p\", null, _toDisplayString($data.modalMessage), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"title\"]), _cache[3] || (_cache[3] = _createElementVNode(\"h2\", {\n    class: \"fw-bold\"\n  }, \"New Order\", -1 /* HOISTED */)), _cache[4] || (_cache[4] = _createElementVNode(\"p\", {\n    class: \"fs-5\"\n  }, \"Benvenuto nella sezione nuovo ordine!\", -1 /* HOISTED */))]), _cache[5] || (_cache[5] = _createElementVNode(\"ul\", {\n    class: \"list-unstyled mb-4\"\n  }, [_createElementVNode(\"li\", null, \"• Collega il lettore di barcode al dispositivo tramite Bluetooth.\"), _createElementVNode(\"li\", null, \"• Una volta collegato il lettore, posizionati nella casella di testo sottostante per cominciare a inserire i barcode.\"), _createElementVNode(\"li\", null, \"• Leggi i barcode con il dispositivo collegato (verranno automaticamente inseriti nella casella di testo).\"), _createElementVNode(\"li\", null, \"• Controlla sempre che sia stato inserito il barcode corretto!\"), _createElementVNode(\"li\", null, [_createTextVNode(\"• Una volta terminato l'inserimento dei codici clicca su \"), _createElementVNode(\"strong\", null, \"'Send'\"), _createTextVNode(\" per inviare il tuo ordine!\")])], -1 /* HOISTED */)), _createElementVNode(\"div\", null, [_createCommentVNode(\"textarea class=\\\"form-control\\\" rows=\\\"10\\\" v-model=\\\"textContent\\\" placeholder=\\\"Write here...\\\"></textarea>\"), _createVNode(_component_b_form_textarea, {\n    id: \"textarea\",\n    modelValue: _ctx.text,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.text = $event),\n    placeholder: \"Enter something...\",\n    rows: \"3\",\n    \"max-rows\": \"6\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"pre\", _hoisted_3, _toDisplayString(_ctx.text), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    id: \"send\",\n    class: \"btn btn-primary px-4 w-25 fs-3\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.sendOrder && $options.sendOrder(...args))\n  }, \"Send\"), _createElementVNode(\"button\", {\n    id: \"reset\",\n    class: \"btn btn-primary px-4 w-25 fs-3 fs-ms-4\",\n    onClick: _cache[2] || (_cache[2] = $event => this.textContent = '')\n  }, \"Reset\")])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_Fragment","_createVNode","_component_Header","_createElementVNode","_hoisted_1","_hoisted_2","_component_Modal","ref","modalId","title","$data","modalTitle","default","_withCtx","_createCommentVNode","_toDisplayString","modalMessage","_","_createTextVNode","_component_b_form_textarea","id","modelValue","_ctx","text","_cache","$event","placeholder","rows","_hoisted_3","_hoisted_4","onClick","args","$options","sendOrder","textContent"],"sources":["/home/ilaria/kanbanapp/src/components/Order.vue"],"sourcesContent":["<template>\n    <Header />\n    <div class=\"container my-3\">\n        <div class=\"text-center mb-4\">\n            <Modal ref=\"orderModal\" modalId=\"orderModal\" :title=\"modalTitle\">\n                <!--DOM elements marked with the built-in ref attribute are stored in the $refs object. Elements inside the $refs object can be reached with the this keyword. The $refs object is used to reach DOM elements to read or manipulate them in a similar way as querySelector() and getElementById() are used in plain JavaScript.-->\n                <p>{{ modalMessage }}</p>\n            </Modal>\n            <h2 class=\"fw-bold\">New Order</h2>\n            <p class=\"fs-5\">Benvenuto nella sezione nuovo ordine!</p>\n        </div>\n        <ul class=\"list-unstyled mb-4\">\n            <li>&bull; Collega il lettore di barcode al dispositivo tramite Bluetooth.</li>\n            <li>&bull; Una volta collegato il lettore, posizionati nella casella di testo sottostante per cominciare a\n                inserire i barcode.</li>\n            <li>&bull; Leggi i barcode con il dispositivo collegato (verranno automaticamente inseriti nella casella di\n                testo).</li>\n            <li>&bull; Controlla sempre che sia stato inserito il barcode corretto!</li>\n            <li>&bull; Una volta terminato l'inserimento dei codici clicca su <strong>'Send'</strong> per inviare il tuo\n                ordine!</li>\n        </ul>\n        <div >\n            <!--textarea class=\"form-control\" rows=\"10\" v-model=\"textContent\" placeholder=\"Write here...\"></textarea>-->\n            <b-form-textarea\n      id=\"textarea\"\n      v-model=\"text\"\n      placeholder=\"Enter something...\"\n      rows=\"3\"\n      max-rows=\"6\"\n    ></b-form-textarea><pre class=\"mt-3 mb-0\">{{ text }}</pre>\n\n        </div>\n        <div class=\"d-flex justify-content-center gap-3\" style=\"height: 10%;\">\n            <button id=\"send\" class=\"btn btn-primary px-4 w-25 fs-3\" v-on:click=\"sendOrder\">Send</button>\n            <button id=\"reset\" class=\"btn btn-primary px-4 w-25 fs-3 fs-ms-4\"\n                v-on:click=\"this.textContent = ''\">Reset</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Header from './Header.vue';\nimport Modal from './Modal.vue';\nimport axios from 'axios';\nexport default {\n    name: 'Order',\n    data() {\n        return {\n            textContent: '', // Contenuto del file di testo\n            //currentDate: new Date().toLocaleDateString() // Formatta la data\n            modalMessage: \"\", // Stato per il messaggio del Modale\n            modalTitle: \"\",   // Stato per il titolo del Modale\n        };\n    },\n    components: {\n        Header,\n        Modal\n    },\n    methods: {\n        async sendOrder() {\n            let token = localStorage.getItem('token').replace(/\"/g, ''); // Rimuovo le virgolette\n            // Crea un blob con i dati\n            const blob = new Blob([this.textContent], { type: 'text/plain' });\n            // Crea un oggetto File\n            const file = new File([blob], `test.dat`, { type: 'text/plain' }); //Ordine${this.currentDate}\n            const formData = new FormData();\n            formData.append('file', file); // Aggiungi il file direttamente\n            try {\n                let response = await axios.post(`https://phplaravel-729699-3062059.cloudwaysapps.com/api/v1/uploadOrderFile`, formData, {\n                    headers: {\n                        'authorization': `Bearer ${token}`,\n                        'accept': 'application/json',\n                    },\n                });\n                this.textContent = '';\n                console.log(response);\n                this.modalTitle = \"Order sent!\";\n                this.modalMessage = \"Your order has been sent successfully!\";\n            } catch (error) {\n                console.error(\"Sending failed, error:\", error);\n                this.modalTitle = \"Order not sent!\";\n                this.modalMessage = \"Error: \" + error.message;\n            }\n            this.$refs.orderModal.openModal();\n        }\n    },\n    //controllo che l'utente sia loggato, lo faccio tramite l'id salvato e se non è loggato, rimando alla pagina di login\n    mounted() {\n        let userId = localStorage.getItem('id')\n        if (userId == null) {\n            this.$router.push({ name: 'Login' })\n        }\n    }\n}\n</script>\n"],"mappings":";;EAESA,KAAK,EAAC;AAAgB;;EAClBA,KAAK,EAAC;AAAkB;;EA0BTA,KAAK,EAAC;AAAW;;EAGhCA,KAAK,EAAC,qCAAqC;EAACC,KAAoB,EAApB;IAAA;EAAA;;;;;;uBAhCzDC,mBAAA,CAAAC,SAAA,SACIC,YAAA,CAAUC,iBAAA,GACVC,mBAAA,CAmCM,OAnCNC,UAmCM,GAlCFD,mBAAA,CAOM,OAPNE,UAOM,GANFJ,YAAA,CAGQK,gBAAA;IAHDC,GAAG,EAAC,YAAY;IAACC,OAAO,EAAC,YAAY;IAAEC,KAAK,EAAEC,KAAA,CAAAC;;IAJjEC,OAAA,EAAAC,QAAA,CAKgB,MAAkU,CAAlUC,mBAAA,+TAAkU,EAClUX,mBAAA,CAAyB,WAAAY,gBAAA,CAAnBL,KAAA,CAAAM,YAAY,iB;IANlCC,CAAA;0DAQYd,mBAAA,CAAkC;IAA9BN,KAAK,EAAC;EAAS,GAAC,WAAS,sB,0BAC7BM,mBAAA,CAAyD;IAAtDN,KAAK,EAAC;EAAM,GAAC,uCAAqC,qB,6BAEzDM,mBAAA,CASK;IATDN,KAAK,EAAC;EAAoB,IAC1BM,mBAAA,CAA+E,YAA3E,mEAAsE,GAC1EA,mBAAA,CAC4B,YADxB,uHACmB,GACvBA,mBAAA,CACgB,YADZ,4GACO,GACXA,mBAAA,CAA4E,YAAxE,gEAAmE,GACvEA,mBAAA,CACgB,aAnB5Be,gBAAA,CAkBgB,2DAA8D,GAAAf,mBAAA,CAAuB,gBAAf,QAAM,GAlB5Fe,gBAAA,CAkBqG,6BAC9E,E,wBAEff,mBAAA,CAUM,cATFW,mBAAA,iHAA4G,EAC5Gb,YAAA,CAMWkB,0BAAA;IALjBC,EAAE,EAAC,UAAU;IAxBnBC,UAAA,EAyBeC,IAAA,CAAAC,IAAI;IAzBnB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAyBeH,IAAA,CAAAC,IAAI,GAAAE,MAAA;IACbC,WAAW,EAAC,oBAAoB;IAChCC,IAAI,EAAC,GAAG;IACR,UAAQ,EAAC;2CACQxB,mBAAA,CAAuC,OAAvCyB,UAAuC,EAAAb,gBAAA,CAAbO,IAAA,CAAAC,IAAI,iB,GAG7CpB,mBAAA,CAIM,OAJN0B,UAIM,GAHF1B,mBAAA,CAA6F;IAArFiB,EAAE,EAAC,MAAM;IAACvB,KAAK,EAAC,gCAAgC;IAAMiC,OAAK,EAAAN,MAAA,QAAAA,MAAA,UAAAO,IAAA,KAAEC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;KAAE,MAAI,GACpF5B,mBAAA,CACqD;IAD7CiB,EAAE,EAAC,OAAO;IAACvB,KAAK,EAAC,wCAAwC;IACxDiC,OAAK,EAAAN,MAAA,QAAAA,MAAA,MAAAC,MAAA,SAAOS,WAAW;KAAO,OAAK,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}