{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"nav\"\n};\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[1] || (_cache[1] = _createElementVNode(\"a\", {\n    href: \"/\"\n  }, \"Home\", -1 /* HOISTED */)), _createElementVNode(\"a\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.logout && _ctx.logout(...args)),\n    href: \"#\"\n  }, \"Logout\")]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","href","onClick","_cache","args","_ctx","logout"],"sources":["/home/ilaria/progettino/src/components/Header.vue"],"sourcesContent":["<template>\n    <div class=\"nav\">\n        <a href=\"/\">Home</a>\n        <a v-on:click=\"logout\" href=\"#\">Logout</a>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport router from '../routers';\nexport default {\n    name: 'Header',\n    methods: {\n\n        async logout() {\n\n            try {\n                let token = localStorage.getItem('token');\n                console.log(token)\n                let response = await axios.get(`https://phplaravel-729699-3062059.cloudwaysapps.com/api/v1/logout`, {\n                    headers: {\n                        Authorization: `Bearer ${token}`,\n                    }\n                });\n                console.log(response);\n\n                if (response.status == 200) {\n                    localStorage.clear();\n                    this.$router.push({ name: 'Login' });\n                } else {\n                    console.warn(\"Logout non riuscito.\");\n                }\n            } catch (error) {\n                console.error(\"Errore durante il logout:\", error);\n\n    if (error.response) {\n        // La richiesta è stata fatta e il server ha risposto con un codice di stato\n        console.error(\"Errore durante il logout:\", error.response.data);\n        console.error(\"Codice di stato:\", error.response.status);\n    } else if (error.request) {\n        // La richiesta è stata fatta ma non c'è stata risposta\n        console.error(\"Nessuna risposta ricevuta:\", error.request);\n    } else {\n        // Qualcosa è andato storto nel configurare la richiesta\n        console.error(\"Errore:\", error.message);\n    }\n}\n                /*localStorage.clear();\n               this.$router.push({ name: 'Login' })*/\n            }\n        }\n    }\n}\n</script>\n\n<style>\n.nav {\n    background-color: #fff;\n    overflow: hidden;\n}\n\n.nav a {\n    float: left;\n    color: #002364;\n    padding: 14px 16px;\n    text-align: center;\n    font-size: 17px;\n    text-decoration: none;\n    margin-right: 5px;\n}\n\n.nav a:hover {\n    background-color: #f1f1f1;\n}\n</style>"],"mappings":";;EACSA,KAAK,EAAC;AAAK;;uBAAhBC,mBAAA,CAGM,OAHNC,UAGM,G,0BAFFC,mBAAA,CAAoB;IAAjBC,IAAI,EAAC;EAAG,GAAC,MAAI,sBAChBD,mBAAA,CAA0C;IAAlCE,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAC,MAAA,IAAAD,IAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;IAAEH,IAAI,EAAC;KAAI,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}