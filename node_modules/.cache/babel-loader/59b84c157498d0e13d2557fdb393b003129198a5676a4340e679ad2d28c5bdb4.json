{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport imageCompression from 'browser-image-compression';\nexport default {\n  name: 'Header',\n  data() {\n    return {\n      // Flag per determinare se la navbar è aperta o chiusa\n      isNavbarOpen: false,\n      email: '',\n      nome_azienda: '',\n      nome_referente: '',\n      logo: \"\"\n    };\n  },\n  methods: {\n    toggleNavbar() {\n      this.isNavbarOpen = !this.isNavbarOpen;\n    },\n    goHome() {\n      this.$router.push('/');\n    },\n    async logout() {\n      try {\n        let token = localStorage.getItem('token').replace(/\"/g, ''); // Rimuovo le virgolette, /g fa la ricerca su tutta la stringa\n        console.log(token);\n        await axios.get('http://localhost:3000/logout', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        console.log(response);\n        if (response.status == 200) {\n          localStorage.clear();\n          this.$router.push({\n            name: 'Login'\n          });\n        } else {\n          console.warn(\"Logout non riuscito.\");\n        }\n      } catch (error) {\n        console.error(\"Errore durante il logout:\", error);\n      }\n    }\n  },\n  mounted() {\n    this.email = localStorage.getItem('email').replace(/\"/g, '');\n    this.nome_azienda = localStorage.getItem('nome_azienda').replace(/\"/g, '');\n    this.nome_referente = localStorage.getItem('nome_referente').replace(/\"/g, '');\n    this.logo = localStorage.getItem('logo').replace(/\"/g, '');\n  }\n};","map":{"version":3,"names":["axios","imageCompression","name","data","isNavbarOpen","email","nome_azienda","nome_referente","logo","methods","toggleNavbar","goHome","$router","push","logout","token","localStorage","getItem","replace","console","log","get","headers","response","status","clear","warn","error","mounted"],"sources":["/home/ilaria/pwa-demo/src/components/Header.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg navbar-light\" style=\"background-color: #022970;\">\n        <div class=\"container-fluid\">\n            <!-- Toggler per dispositivi mobili -->\n            <button class=\"navbar-toggler\" type=\"button\" @click=\"toggleNavbar\" aria-controls=\"navbarTogglerDemo03\"\n                :aria-expanded=\"isNavbarOpen ? 'true' : 'false'\" aria-label=\"Toggle navigation\"\n                style=\"color: #ffffff; background-color: #022970; border-color: #ffffff; filter: opacity(50%);\">\n                <!--Ho dovuto gestire la chiusura con isNavbarOpen perchè bootstrap entrava in conflitto con vuejs e il menù una volta aperto non si chiudeva-->\n                <span class=\"navbar-toggler-icon\" style=\"filter: invert(100%);\"></span>\n            </button>\n            <!-- Navbar Menu -->\n            <div class=\"navbar-collapse\" :class=\"{ 'collapse': !isNavbarOpen, 'show': isNavbarOpen }\"\n                id=\"navbarTogglerDemo03\">\n                <ul class=\"navbar-nav me-auto mb-2 mb-lg-0 mt-3\" style=\"width: 90%\">\n                    <li class=\"nav-item\">\n                        <a id=\"client\" class=\"nav-link active bi bi-person rounded-1 mb-2\" aria-current=\"page\"\n                            @click=\"this.$router.push({ name: 'Client' });\" style=\"color: #ffffff;\">&nbsp;Clienti</a>\n                    </li>\n                    <li class=\"nav-item\">\n                        <a id=\"openOrders\" class=\"nav-link active bi bi-box-seam rounded-1 mb-2\" aria-current=\"page\"\n                            href=\"/home#ordini-aperti\" style=\"color: #ffffff;\">&nbsp;Ordini aperti</a>\n                    </li>\n                    <!--<li class=\"nav-item\">\n                        <a id=\"facilities\" class=\"nav-link active bi bi-kanban rounded-1 mb-2\" aria-current=\"page\"\n                            @click=\"this.$router.push({ name: 'Facilities' });\" style=\"color: #ffffff;\">&nbsp;Stato\n                            impianti</a>\n                    </li>-->\n                    <li class=\"nav-item\">\n                        <a id=\"logout\" class=\"nav-link bi bi-box-arrow-right rounded-1 mb-2\" @click=\"logout\"\n                            style=\"color: #ffffff;\">&nbsp;Logout</a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </nav>\n\n    <div class=\"card profile-card\">\n        <div class=\"profile-header\">&nbsp;</div>\n        <div class=\"profile-body\">\n            <div class=\"image-area\">\n                <img :src=\"logo\" alt=\"Logo\" height=\"100\" width=\"100\" />\n            </div>\n            <div class=\"content-area\">\n                <h3 class=\"my-2\">{{ nome_referente }}</h3>\n                <p class=\"my-1\">{{ nome_azienda }}</p>\n                <p>{{ email }}</p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport imageCompression from 'browser-image-compression';\nexport default {\n    name: 'Header',\n    data() {\n        return {\n            // Flag per determinare se la navbar è aperta o chiusa\n            isNavbarOpen: false,\n            email: '',\n            nome_azienda: '',\n            nome_referente: '',\n            logo: \"\"\n        };\n    },\n    methods: {\n        toggleNavbar() {\n            this.isNavbarOpen = !this.isNavbarOpen;\n        },\n        goHome() {\n            this.$router.push('/');\n        },\n        async logout() {\n            try {\n\n                let token = localStorage.getItem('token').replace(/\"/g, ''); // Rimuovo le virgolette, /g fa la ricerca su tutta la stringa\n                console.log(token)\n                await axios.get('http://localhost:3000/logout', {\n                    headers: {\n                        'Authorization': `Bearer ${token}`\n                    }\n                });\n                console.log(response);\n\n                if (response.status == 200) {\n                    localStorage.clear();\n                    this.$router.push({ name: 'Login' });\n                } else {\n                    console.warn(\"Logout non riuscito.\");\n                }\n            } catch (error) {\n                console.error(\"Errore durante il logout:\", error);\n            }\n        }\n    },\n\n    mounted() {\n        this.email = localStorage.getItem('email').replace(/\"/g, '');\n        this.nome_azienda = localStorage.getItem('nome_azienda').replace(/\"/g, '');\n        this.nome_referente = localStorage.getItem('nome_referente').replace(/\"/g, '');\n        this.logo = localStorage.getItem('logo').replace(/\"/g, '');\n    }\n}\n</script>\n<style>\n.card {\n    background: #fff;\n    min-height: 50px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n    position: relative;\n    margin-bottom: 20px;\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    -ms-border-radius: 2px;\n    border: none !important;\n}\n\n.profile-card .profile-header {\n    background-color: #022970;\n    padding: 42px 0;\n}\n\n.profile-card .profile-body .image-area {\n    text-align: center;\n    margin-top: -64px;\n}\n\n.profile-card .profile-body .image-area img {\n    border: 2px solid #022970;\n    padding: 2px;\n    margin: 2px;\n    -webkit-border-radius: 50%;\n    -moz-border-radius: 50%;\n    -ms-border-radius: 50%;\n    border-radius: 50%;\n}\n</style>"],"mappings":";AAoDA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,gBAAe,MAAO,2BAA2B;AACxD,eAAe;EACXC,IAAI,EAAE,QAAQ;EACdC,IAAIA,CAAA,EAAG;IACH,OAAO;MACH;MACAC,YAAY,EAAE,KAAK;MACnBC,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE,EAAE;MAChBC,cAAc,EAAE,EAAE;MAClBC,IAAI,EAAE;IACV,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,YAAYA,CAAA,EAAG;MACX,IAAI,CAACN,YAAW,GAAI,CAAC,IAAI,CAACA,YAAY;IAC1C,CAAC;IACDO,MAAMA,CAAA,EAAG;MACL,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IAC1B,CAAC;IACD,MAAMC,MAAMA,CAAA,EAAG;MACX,IAAI;QAEA,IAAIC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE;QAC7DC,OAAO,CAACC,GAAG,CAACL,KAAK;QACjB,MAAMf,KAAK,CAACqB,GAAG,CAAC,8BAA8B,EAAE;UAC5CC,OAAO,EAAE;YACL,eAAe,EAAE,UAAUP,KAAK;UACpC;QACJ,CAAC,CAAC;QACFI,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC;QAErB,IAAIA,QAAQ,CAACC,MAAK,IAAK,GAAG,EAAE;UACxBR,YAAY,CAACS,KAAK,CAAC,CAAC;UACpB,IAAI,CAACb,OAAO,CAACC,IAAI,CAAC;YAAEX,IAAI,EAAE;UAAQ,CAAC,CAAC;QACxC,OAAO;UACHiB,OAAO,CAACO,IAAI,CAAC,sBAAsB,CAAC;QACxC;MACJ,EAAE,OAAOC,KAAK,EAAE;QACZR,OAAO,CAACQ,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACrD;IACJ;EACJ,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACvB,KAAI,GAAIW,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IAC5D,IAAI,CAACZ,YAAW,GAAIU,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IAC1E,IAAI,CAACX,cAAa,GAAIS,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IAC9E,IAAI,CAACV,IAAG,GAAIQ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;EAC9D;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}