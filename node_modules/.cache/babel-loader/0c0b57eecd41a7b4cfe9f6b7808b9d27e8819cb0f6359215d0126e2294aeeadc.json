{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      email: '',\n      password: ''\n    };\n  },\n  methods: {\n    async login() {\n      let result = await axios.get(`http://localhost:3000/users?email=${this.email}&password=${this.password}`);\n      console.warn(result);\n      if (result.status == 200 && result.data.length > 0) {\n        localStorage.setItem(\"user-info\", JSON.stringify(result.data[0]));\n        this.$router.push({\n          name: 'Home'\n        });\n      }\n    },\n    mounted() {\n      let user = localStorage.getItem('user-info');\n      if (user) {\n        this.$router.push({\n          name: 'Home'\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","email","password","methods","login","result","get","console","warn","status","length","localStorage","setItem","JSON","stringify","$router","push","mounted","user","getItem"],"sources":["/home/ilaria/kanbanapp/src/components/Login.vue"],"sourcesContent":["<template>\n    <div class=\"full\">\n        <h1>Login</h1>\n        <div class=\"login\">\n            <div class=\"input\">\n                <input type=\"text\" v-model=\"email\" placeholder=\"Email\" />\n                <input type=\"password\" v-model=\"password\" placeholder=\"Password\" />\n                <button v-on:click=\"login\">Login</button>\n                <p>\n                    <router-link to=\"/\">Home</router-link>\n                </p>\n                <p class=\"dimenticato\">\n                    <br>\n                    <a href=\"\">Hai dimenticato le credenziali?</a>\n                </p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    name: 'Login',\n    data(){\n        return {\n            email: '',\n            password: ''\n        }\n    },\n    methods:{\n        async login(){\n            let result = await axios.get(\n                `http://localhost:3000/users?email=${this.email}&password=${this.password}`\n            )\n            console.warn(result)\n            if(result.status == 200 && result.data.length > 0){\n                localStorage.setItem(\"user-info\", JSON.stringify(result.data[0]))\n                this.$router.push({name:'Home'})\n            }\n        },\n        mounted(){\n            let user = localStorage.getItem('user-info')\n            if(user){\n                this.$router.push({name:'Home'})\n            }\n        }\n    }\n};\n</script>\n"],"mappings":";AAqBA,OAAOA,KAAI,MAAO,OAAM;AACxB,eAAe;EACXC,IAAI,EAAE,OAAO;EACbC,IAAIA,CAAA,EAAE;IACF,OAAO;MACHC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACd;EACJ,CAAC;EACDC,OAAO,EAAC;IACJ,MAAMC,KAAKA,CAAA,EAAE;MACT,IAAIC,MAAK,GAAI,MAAMP,KAAK,CAACQ,GAAG,CACxB,qCAAqC,IAAI,CAACL,KAAK,aAAa,IAAI,CAACC,QAAQ,EAC7E;MACAK,OAAO,CAACC,IAAI,CAACH,MAAM;MACnB,IAAGA,MAAM,CAACI,MAAK,IAAK,GAAE,IAAKJ,MAAM,CAACL,IAAI,CAACU,MAAK,GAAI,CAAC,EAAC;QAC9CC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACT,MAAM,CAACL,IAAI,CAAC,CAAC,CAAC,CAAC;QAChE,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC;UAACjB,IAAI,EAAC;QAAM,CAAC;MACnC;IACJ,CAAC;IACDkB,OAAOA,CAAA,EAAE;MACL,IAAIC,IAAG,GAAIP,YAAY,CAACQ,OAAO,CAAC,WAAW;MAC3C,IAAGD,IAAI,EAAC;QACJ,IAAI,CAACH,OAAO,CAACC,IAAI,CAAC;UAACjB,IAAI,EAAC;QAAM,CAAC;MACnC;IACJ;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}