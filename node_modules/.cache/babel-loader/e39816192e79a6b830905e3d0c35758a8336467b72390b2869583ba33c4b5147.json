{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport router from '../routers';\nexport default {\n  name: 'Header',\n  methods: {\n    async logout() {\n      try {\n        // Recupera il token dal local storage o da un altro luogo dove lo hai memorizzato\n        const token = localStorage.getItem('token');\n\n        // Esegui la richiesta GET all'API di logout con il Bearer Token\n        const response = await axios.get('https://phplaravel-729699-3062059.cloudwaysapps.com/api/v1/logout', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        // Controlla se la risposta è positiva\n        if (response.status === 200) {\n          // Rimuovi i dati di autenticazione (se necessario)\n          localStorage.removeItem('token'); // o qualsiasi altro dato di autenticazione\n\n          // Reindirizza l'utente alla pagina di login\n          router.push('/login');\n        }\n      } catch (error) {\n        console.error('Errore durante il logout:', error);\n        // Puoi anche gestire errori specifici qui, come mostrare un messaggio all'utente\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","router","name","methods","logout","token","localStorage","getItem","response","get","headers","Authorization","status","removeItem","push","error","console"],"sources":["/home/ilaria/progettino/src/components/Header.vue"],"sourcesContent":["<template>\n    <div class=\"nav\">\n        <a href=\"/\">Home</a>\n        <a v-on:click=\"logout\" href=\"#\">Logout</a>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport router from '../routers';\nexport default {\n    name: 'Header',\n    methods: {\n\n        async logout() {\n\n            try {\n        // Recupera il token dal local storage o da un altro luogo dove lo hai memorizzato\n        const token = localStorage.getItem('token');\n\n        // Esegui la richiesta GET all'API di logout con il Bearer Token\n        const response = await axios.get('https://phplaravel-729699-3062059.cloudwaysapps.com/api/v1/logout', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        // Controlla se la risposta è positiva\n        if (response.status === 200) {\n          // Rimuovi i dati di autenticazione (se necessario)\n          localStorage.removeItem('token'); // o qualsiasi altro dato di autenticazione\n\n          // Reindirizza l'utente alla pagina di login\n          router.push('/login');\n        }\n      } catch (error) {\n        console.error('Errore durante il logout:', error);\n        // Puoi anche gestire errori specifici qui, come mostrare un messaggio all'utente\n      }\n    }\n}\n};\n</script>\n\n<style>\n.nav {\n    background-color: #fff;\n    overflow: hidden;\n}\n\n.nav a {\n    float: left;\n    color: #002364;\n    padding: 14px 16px;\n    text-align: center;\n    font-size: 17px;\n    text-decoration: none;\n    margin-right: 5px;\n}\n\n.nav a:hover {\n    background-color: #f1f1f1;\n}\n</style>"],"mappings":";AAQA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,YAAY;AAC/B,eAAe;EACXC,IAAI,EAAE,QAAQ;EACdC,OAAO,EAAE;IAEL,MAAMC,MAAMA,CAAA,EAAG;MAEX,IAAI;QACR;QACA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;;QAE3C;QACA,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAC,mEAAmE,EAAE;UACpGC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUN,KAAK;UAChC;QACF,CAAC,CAAC;;QAEF;QACA,IAAIG,QAAQ,CAACI,MAAK,KAAM,GAAG,EAAE;UAC3B;UACAN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC,EAAE;;UAElC;UACAZ,MAAM,CAACa,IAAI,CAAC,QAAQ,CAAC;QACvB;MACF,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD;MACF;IACF;EACJ;AACA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}