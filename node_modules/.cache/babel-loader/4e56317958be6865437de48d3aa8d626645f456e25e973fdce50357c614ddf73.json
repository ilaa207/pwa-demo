{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache) {\n  const _component_Header = _resolveComponent(\"Header\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Header), _cache[0] || (_cache[0] = _createElementVNode(\"div\", {\n    id: \"display-clients\",\n    class: \"d-flex flex-column\"\n  }, null, -1 /* HOISTED */))], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_createVNode","_component_Header","_createElementVNode","id","class"],"sources":["/home/ilaria/kanbanapp/src/components/Client.vue"],"sourcesContent":["<template>\n    <Header />\n    <div id=\"display-clients\" class=\"d-flex flex-column\">\n    </div>\n\n</template>\n\n<script>\nimport Header from './Header.vue';\nimport Home from './Home.vue';\nimport axios from 'axios';\nexport default {\n    name: 'Client',\n    components: {\n        Header\n    },\n    methods: {\n        async chooseClients() {\n            let token = localStorage.getItem('token').replace(/\"/g, '');\n            try {\n                let response = await axios.get(`https://phplaravel-729699-3062059.cloudwaysapps.com/api/v1/customer/index`, {\n                    headers: {\n                        'authorization': `Bearer ${token}`,\n                        'accept': 'application/json',\n                    },\n                });\n                console.log(response);\n                localStorage.setItem(\"clients\", JSON.stringify(response.data.customers));\n            } catch (error) {\n                console.warn(\"Error: \", error)\n            }\n        },\n    },\n    //controllo che l'utente sia loggato, lo faccio tramite l'id salvato e se non Ã¨ loggato, rimando alla pagina di login\n    mounted() {\n        let userId = localStorage.getItem('token');\n        const clients = JSON.parse(localStorage.getItem('clients'));\n        this.chooseClients();\n        if (userId == null) {\n            this.$router.push({ name: 'Login' })\n        }\n\n        for (let i = 0; i < this.chooseClients.length; i++) {\n            console.log(clients[i]);\n        }\n\n        const displayClients = document.querySelector('#display-clients');\n        for (let i = 0; i < clients.length; i++) {\n            displayClients.innerHTML += `<ul class=\"list-group list-group-flush\">\n                    <li class=\"client-list list-group-item\"><a `@click=\"this.$router.push({ name: 'Home' });\"`\n                            class=\"text-decoration-none\"> ${clients[i].nome_azienda}\n                            <i class=\"bi bi-chevron-right\"></i>\n                        </a>\n                    </li>\n                </ul>`;\n        }\n\n    }\n}\n</script>"],"mappings":";;;uBAAAA,mBAAA,CAAAC,SAAA,SACIC,YAAA,CAAUC,iBAAA,G,0BACVC,mBAAA,CACM;IADDC,EAAE,EAAC,iBAAiB;IAACC,KAAK,EAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}